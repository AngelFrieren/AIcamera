# AIcamera
AIカメラβ2 – 集中度計測 × サボり検知 × コイン化システム

（非表示モード / CSVログ対応）

本プロジェクトは PC カメラを用いて
集中度をリアルタイム計測し、サボりを自動検知してアラームを鳴らすアプリケーションです。

さらに、集中度をスコア化し、

集中度 × 時間（分換算、秒切り捨て）× 0.1

で “コイン” を自動付与します。
コインは CSV に保存され、累計ポイントとして蓄積されます。

✨ できること
1. 顔認識で集中状態を計測

Webカメラから顔位置を検出

以下の条件から集中度を算出（0〜100）

顔が中央にあるか

顔が画面に近いか

顔がキョロキョロ動いていないか

離席していないか

2. 詳細なサボり検知

離席

横ズレ（画面端を見てる）

遠くへ下がる（背もたれダラダラ）

落ち着きのなさ（キョロキョロ）

など細かく分類。

3. 集中度が低い状態が続くとアラーム

集中度 < 30

上記の悪い状態が 5秒以上続いたらアラーム音を鳴らす

4. コイン付与システム（ゲーミフィケーション）

集中度が 60以上の1分間ごとに
コイン += 集中度 × 0.1

経過時間が1分進むたびにチェック

集中していない時間はコイン0

5. CSV にログ保存（累計コイン管理）

focus_coins_log.csv に以下を保存：

日付

セッション開始時刻

終了時刻

セッション時間（分）

セッションで獲得したコイン

累計コイン

次回起動時に CSV を読み込み、過去の累計ポイントを引き継ぎます。

📦 必要環境

Python 3.9〜3.12

Webカメラが接続されていること

Windows / macOS / Linux どれでもOK

インストールが必要なライブラリ
pip install opencv-python numpy simpleaudio

▶️ 実行方法
python ai_camera_focus_coin.py


カメラ映像は表示されません（非表示モード）。
ターミナルに集中度・サボり状況・コイン状況が表示されます。

終了は Ctrl + C。

📁 出力されるファイル
focus_coins_log.csv


内容例：

date	session_start	session_end	session_minutes	session_coins	total_coins
2025-11-15	13:00:00	14:23:11	83	470.3	1220.8
🔧 パラメータを変えたい場合

README のコード内で簡単に調整できます。

コイン閾値
ATTENTION_COIN_THRESHOLD = 60  # 集中度60以上でコイン付与

1分あたりの倍率
COIN_FACTOR = 0.1  # 集中度 × 分 × 0.1

警告音の条件
ALARM_THRESHOLD = 30
ALARM_MIN_BAD_SECONDS = 5

⭐ 今後の拡張アイデア

1日の目標コイン（例：300コイン）
→ 達成したら「達成！」と通知

教科別のコイン（英語・数学など）

集中度をグラフ可視化（Matplotlib）

スマホ版（React Native + MediaPipe）

Webアプリ化（FastAPI + React）
